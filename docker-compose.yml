version: '3.8'

services:
  etf-app:
    # 현재 디렉토리의 Dockerfile을 사용하여 이미지 빌드
    build: .
    container_name: etf-app
    # 호스트의 80 포트를 컨테이너의 8080 포트와 연결 (웹 브라우저에서 바로 접속 가능)
    ports:
      - "80:8080"
    # 컨테이너가 죽으면 자동으로 재시작 (안정성 확보)
    restart: always
    # 로그 설정 (디스크 용량 관리)
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"